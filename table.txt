
CREATE TABLE IF NOT EXISTS User (
    id         UUID             IDENTITY(1,1)   PRIMARY KEY,
    pseudo     VARCHAR(100)    NOT NULL UNIQUE,
    password   VARCHAR(100)    NOT NULL,
    creation_date   DATE,
    pp      INTEGER,
    group_id UUID,
    contact_id UUID,
    FOREIGN KEY (group_id) REFERENCES Group_user(id),
    FOREIGN KEY (contact_id) REFERENCES Contact(id)
);

CREATE TABLE IF NOT EXISTS Contact (
    contact_id  UUID,
    contact_owner_id UUID,
    FOREIGN KEY (contact_id) REFERENCES User(id)
    FOREIGN KEY (contact_owner_id) REFERENCES User(id)
);

CREATE TABLE IF NOT EXISTS Group_mssg (
    id   UUID IDENTITY(1,1),
    name VARCHAR(100)
);

CREATE TABLE IF NOT EXISTS Groups (
    id   UUID  IDENTITY(1,1) PRIMARY KEY,
    name VARCHAR(100),
    date DATE
);

CREATE TABLE IF NOT EXISTS Group_user (
    group_id UUID,
    user_id  UUID,
    creation_date        DATE,
    last_activity_date   DATE,
    FOREIGN KEY (group_id) REFERENCES Groups(id),
    FOREIGN KEY (user_id) REFERENCES User(id)
);

CREATE TABLE IF NOT EXISTS Message (
    id          UUID UNSIGNED PRIMARY_KEY,
    date        DATETIME,
    body        VARCHAR NOT NULL,
    group_id    UUID,
    sender_id   UUID,
    FOREIGN KEY (group_id) REFERENCES Group_mssg(id),
    FOREIGN KEY (sender_id) REFERENCES User(id)
);


